#include "dow.h"

/*
 *  y0 = y - (14 - m)/12
 *  x = y0 + y0/4 - y0/100 + y0/400
 *  m0 = m + 12 * ((14 - m) / 12) - 2
 *  d0 = (d + x + (31 * m0) / 12) % 7
 * 
 *  On which day did Feb 14, 2000 fall? 
 *
 *  y0 = 2000 - 1 = 1999
 *  x = 1999 + 1999 / 4 - 1999 / 100 + 1999 / 400 = 2483
 *  m0 = 2 + 12(1) - 2 = 12
 *  d0 = (14 + 2483 + (31*12)/12) % 7 = 2528 % 7 = 1 (Monday)
 */

int dow(int m, int d, int y) {
    int y0 = y - (14 - m) / 12;
    int x = y0 + y0 / 4 - y0 / 100 + y0 / 400;
    int m0 = m + 12 * ((14 - m)/12) - 2;
    int d0 = (d + x + (31 * m0) / 12) % 7;
    return d0;
}
